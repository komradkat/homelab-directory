version: '3.8'

services:
  web:
    build: .
    container_name: homelab-directory
    ports:
      - "10.0.0.2:8000:8000"      # LAN only
      - "100.106.191.17:8000:8000" # Tailscale only
    volumes:
      - ./data:/app/data
    environment:
      - DJANGO_SETTINGS_MODULE=homelab_directory.settings
    restart: unless-stopped
    networks:
      - homelab

networks:
  homelab:
    driver: bridge
